---
title: "Class 2: Writing Reproducible Reports"
author: "Jay Hesselberth"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Class-2}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "img/class-2-",
  fig.align = "center"
)
```

# Concepts

- Writing (Rmarkdown, useful RStudio tricks and shortcuts)
- Sharing (rpubs.com, RStudio Connect, sending HTML)
- Approaches for data exploration (Shiny *is not reproducible*)

# Performing analyses in RStudio

## Writing notes on your analysis

- Figure legends can be added using the `fig.cap=` chunk option.

```{r figure, fig.cap='Analysis of petal length'}
iris %>% ggplot()
```

**Current me thanks former me**

## Color

### Palettes

- **colorbrewer** The [colorbrewer](colorbrewer2.org) palettes are packaged with ggplot2. They include palettes for both discrete and continuous data.

- **viridis**

### Discrete and continuous data

## Plot themes

The [`cowplot`](https://cran.r-project.org/web/packages/cowplot/vignettes/introduction.html) package provides a variety of sane defaults for your plots. These are especially useful when making publication-quality figures.

```{r cowplot}
# install.packages('cowplot')
library(cowplot)
ggplot(mtcars, aes(x = mpg, y = hp)) + geom_point() + facet_grid(~cyl)
```

# Organizing analyses

Use Markdown headings to organize your document. You can use the Document Outline in RStudio to display your organziation.

## Date formats

You should use the [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) format for dates. Name your files using the `YYYY-MM-DD-description.Rmd` convention. This way, a directory listing will put them in chronological order using their lexical ordering.

## Github

Github is beyond the scope of this class. But if you are using Rmarkdown (or writing other types of code) then it is worth the effort to set it up. Jenny Bryan has an excellent tutorial for setting up Github and integrating it with RStudio.

Beyond the st

# Sharing results

Once you have created an Rmarkdown document, there are several ways to share it with others.

## Send the HTML file

One approach is to render the Rmarkdown file to an HTML and send the rendered HTML. This works OK for small analyses, but file sizes can quickly approach the attachment limit.

## Post the analysis on the web

### Rpubs.com

### Github

# Goals

- Form strong and lasting analysis habits
- Keep cheatsheets handy early on
- Learn new features and concepts as they arise (read the RStudio blog)

# Reading

- Bill Noble Guide to Computational BIology. Organization is paramount.
